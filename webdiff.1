.TH "WEBDIFF" "1" "20070321" "sbeyer" "web"
.SH "NAME"
.LP
webdiff \- powerful and easy tool to check for web page updates
.SH "SYNOPSIS"
.LP
\fBwebdiff\fR [\fIoptions\fP] [\fIcommand\fP]
.SH "DESCRIPTION"
.LP
Webdiff is a powerful and easy-to-use tool which checks for web page
updates. Updates are recognized using several test criteria (\fCdiff\fR,
\fChtml\fR, \fCsize\fR, \fCdate\fR, \fCmd5sum\fR, \fCregexp\fR). Please
see the configurator for more information on these methods.

Without given command, webdiff will only check for updates 
of the specified URIs and only print those that changed, one per
line, so that the output of webdiff can easily be used by 
further scripts (e.g. \fIwget\fP or \fImail\fP).
If no configuration file exists, the configurator is launched
instead.

Webdiff exits after all configured web pages are checked. Occuring 
warnings and errors leave a message in the log file 
(\fI~/.webdiff/lastlog\fP) and are not written to stderr.
The exit code will be the number of errors that occured. So exit
code 0 is success.

Use it with \fIcron\fP if you want to check for updates regularly.

.SH "COMMANDS"
.LP
You can only pass one command to webdiff. It has to be the last argument
in the argument list.

Commands may be shortened down to one character (e.g. `c' instead of 
`configure'). Leading dashes are ignored.

If you start webdiff without command, `get' will be used.
.TP
\fBconfigure\fR
Use this command if you want to start the configurator, the interactive
configuration tool of webdiff. Of course, you may also edit the 
configuration file in \fI~/.webdiff/config\fP by hand. Using the 
configurator is recommended if you are a new webdiff user, because
it explains the possible test methods, validates your regexps, etc.
Nevertheless, the configuration file format is very easy.
.br
The configurator will not initialize the webdiff cache for added
URIs, meaning: it will not download anything. To do so, you have to
rerun webdiff. This is a feature.
.br
If the config file does not exit, the configuration tool is started 
automatically.
.TP
\fBdiff\fR
Use this command if you want to see the differences between the last two
versions of the web pages that are configured with test method \fCdiff\fR
or \fChtml\fR. See \fIdiff(1)\fP. 
.TP
\fBget\fR
Use this command if you want webdiff to fetch the data from the 
specified URIs and show you only those that changed, one per line.
.TP
\fBhelp\fR
Use this command to get usage information about webdiff. To be honest,
this manual page in conjunction with the configurator is a better 
documentation.
.TP
\fBreset\fR
Use this command after you noticed all differences with the \fBdiff\fR 
command (see above), so that \fBdiff\fR will not show you the same changes
again and again.
.TP
\fBversion\fR
This command will display version number and copyright.

.SH "OPTIONS"
.LP
You may pass the following options.
.TP
\fB--workdir DIR, -W DIR\fR
Use this option if you want to specify another working directory. The
working directory is the directory where webdiff reads the configuration
file, stores the downloaded data and writes it logs. See \fBBUGS\fR.

.SH "RESTRICTIONS"
.LP
There is no special case to handle status codes other than 200. In 
practice, webdiff will neither follow redirections nor will it notice
any 4xx or 5xx error code. The resulting error pages are treated like
usual web pages. No logged message. Please check on your own.

.SH "USAGE EXAMPLE"
.LP
You want to add a new URI webdiff should check for updates.
.nf
\&        \fCwebdiff conf\fR
.fi
The configurator is not described here. I know some weaknesses in
usability, but you can get along with it. When you are seeing your 
shell prompt again, you know that webdiff should retrieve an initial 
version of the web page you specified.
.nf
\&        \fCwebdiff\fR
.fi
After some weeks in the sun you want to see if something has changed. 
So you let webdiff check for updates.
.nf
\&        \fCwebdiff\fR
.fi
It is printing an URI! Let's see the changes!
.nf
\&        \fCwebdiff diff\fR
.fi
Oh, it is so much, that it does not fit on a screen!
.nf
\&        \fCwebdiff d | pager\fR
.fi
Now you are satisfied because you read all the changes. So you finally
do
.nf
\&        \fCwebdiff reset\fR
.fi
and webdiff forgets about the changes.

.SH "BUGS"
.LP
The regular expression stuff is using the \fIeval\fP function of
Ruby. This means that you are able to do non\-regex\-related stuff
using special strings as `regular expressions'. This is a big 
security issue when using webdiff as a backend for e.g. web
applications. So do NOT do it and NEVER start webdiff on foreign,
unchecked configurations (\fB-W\fR can be dangerous). 

Feel free to send feedback, bug reports, etc.

.SH "AUTHOR AND COPYRIGHT"
.LP
\(co 2004, 2007 Stephan Beyer \fC<s\-beyer@gmx.net>\fR, GNU GPL
